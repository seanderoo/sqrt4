<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>SQRT4  |  Koppel Docenten</title>
    <link rel="stylesheet" type="text/css" href="/stylesheet.css">
    <link rel="stylesheet" type="text/css" href="/header-stylesheet.css">
</head>
<body>
<header>
    <div th:insert="~{header::copy}">Header</div>
</header>

<style>
    .TableFormatter td {
        border: 1px solid white;
    }
</style>

<h1>Koppel Docenten voor <span th:text="${cohort.getCohortNaam()}"></span></h1>
<form id="gevuldeWeek1" action="#" th:action="@{/roosteraar/docenten-koppelen-gekozen-cohort}" th:object="${cohort}" method="POST">
    <table class="TableFormatter">
        <input name="cohortNaam" type="hidden" th:value="${cohort.getCohortNaam()}">
        <thead>
        <th><select id="week" name="week" onchange="loadData()">
            <option value="geenKeuze">--Kies een week--</option>
            <option th:each="week : ${weken}" th:value="${week.getId()}" th:text="${week.getWeekNummerTekst()}"></option>
        </select></th>
        <th>Maandag</th>
        <th>Dinsdag</th>
        <th>Woensdag</th>
        <th>Donderdag</th>
        <th>Vrijdag</th>
        </thead>
        <tbody>
        <tr>
            <td rowspan="2">Ochtend<br>09:00-13:00</td>
            <td id="vakMaO" >Geen Les</td>
            <td id="vakDiO" >Geen Les</td>
            <td id="vakWoO" >Geen Les</td>
            <td id="vakDoO" >Geen Les</td>
            <td id="vakVrO" >Geen Les</td>
        </tr>
        <tr>
            <td><select id="maOcht" th:name="maOch" onchange="this.className=this.options[this.selectedIndex].className">
                <option th:each="docent: ${MAO}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}" th:name="${docent.getId()}">
            </select></td>
            <td><select id="diOcht" th:name="diOch" onchange="this.className=this.options[this.selectedIndex].className">
                <option th:each="docent: ${DIO}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}" th:name="${docent.getId()}">
            </select></td>
            <td><select id="woOcht" th:name="woOch" onchange="this.className=this.options[this.selectedIndex].className">
                <option th:each="docent: ${WOO}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}" th:name="${docent.getId()}">
            </select></td>
            <td><select id="doOcht" th:name="doOch" onchange="this.className=this.options[this.selectedIndex].className">
                <option th:each="docent: ${DOO}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}" th:name="${docent.getId()}">
            </select></td>
            <td><select id="vrOcht" th:name="vrOch" onchange="this.className=this.options[this.selectedIndex].className">
                <option th:each="docent: ${VRO}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}" th:name="${docent.getId()}">
            </select></td>
        </tr>
        <tr>
            <td rowspan="2">Middag<br>13:00-17:00</td>
            <td id="vakMaM" >Geen Les</td>
            <td id="vakDiM" >Geen Les</td>
            <td id="vakWoM" >Geen Les</td>
            <td id="vakDoM" >Geen Les</td>
            <td id="vakVrM" >Geen Les</td>
        </tr>
        <tr>
            <td><select id="maMid" th:name="maMid" onchange="this.className=this.options[this.selectedIndex].className">
                <option th:each="docent: ${MAM}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}" th:name="${docent.getId()}">
            </select></td>
            <td><select id="diMid" th:name="diMid" onchange="this.className=this.options[this.selectedIndex].className">
                <option th:each="docent: ${DIM}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}" th:name="${docent.getId()}">
            </select></td>
            <td><select id="woMid" th:name="woMid" onchange="this.className=this.options[this.selectedIndex].className">
                <option th:each="docent: ${WOM}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}" th:name="${docent.getId()}">
            </select></td>
            <td><select id="doMid" th:name="doMid" onchange="this.className=this.options[this.selectedIndex].className">
                <option th:each="docent: ${DOM}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}" th:name="${docent.getId()}">
            </select></td>
            <td><select id="vrMid" th:name="vrMid" onchange="this.className=this.options[this.selectedIndex].className">
                <option th:each="docent: ${VRM}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}" th:name="${docent.getId()}">
            </select></td>
        </tr>
        <tr>
            <td rowspan="2">Avond<br>17:00-21:00</td>
            <td id="vakMaA" >Geen Les</td>
            <td id="vakDiA" >Geen Les</td>
            <td id="vakWoA" >Geen Les</td>
            <td id="vakDoA" >Geen Les</td>
            <td id="vakVrA" >Geen Les</td>
        </tr>
        <tr>
            <td><select id="maAvo" th:name="maAvo" onchange="this.className=this.options[this.selectedIndex].className">
                <option th:each="docent: ${MAA}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}" th:name="${docent.getId()}">
            </select></td>
            <td><select id="diAvo" th:name="diAvo" onchange="this.className=this.options[this.selectedIndex].className">
                <option th:each="docent: ${DIA}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}" th:name="${docent.getId()}">
            </select></td>
            <td><select id="woAvo" th:name="woAvo" onchange="this.className=this.options[this.selectedIndex].className">
                <option th:each="docent: ${WOA}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}" th:name="${docent.getId()}">
            </select></td>
            <td><select id="doAvo" th:name="doAvo" onchange="this.className=this.options[this.selectedIndex].className">
                <option th:each="docent: ${DOA}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}" th:name="${docent.getId()}">
            </select></td>
            <td><select id="vrAvo" th:name="vrAvo" onchange="this.className=this.options[this.selectedIndex].className">
                <option th:each="docent: ${VRA}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}" th:name="${docent.getId()}">
            </select></td>
        </tr>
        </tbody>
    </table>
    <br>
    <button id="submitButton" type="submit">Sla week op</span></button>

</form>

<h2 id="gevuldeWeek3">Hieronder een overzicht van alle weken van dit cohort</h2>
<h3>Klik op de week waarvoor je een rooster wilt maken om het rooster zonder docenten in te laden. <br>Vervolgens kun je docenten koppelen aan de vakken die in het rooster staan.</h3>

<th:block th:each="week: ${weken}">
    <table class="TableFormatter">
        <thead>
        <tr colspan="2">
            <th>Weeknummer</th>
            <th>Maandag</th>
            <th>Dinsdag</th>
            <th>Woensdag</th>
            <th>Donderdag</th>
            <th>Vrijdag</th>
        </tr>
        <tr>
            <td th:text="${week.getWeekNummer()}"></td>
            <td th:text="${week.getMaandag().getDatum()}"></td>
            <td th:text="${week.getDinsdag().getDatum()}"></td>
            <td th:text="${week.getWoensdag().getDatum()}"></td>
            <td th:text="${week.getDonderdag().getDatum()}"></td>
            <td th:text="${week.getVrijdag().getDatum()}"></td>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td rowspan="2" th:value="ochtend">9:00 - 13:00</td>
            <td th:text="${week.getMaandag().getOchtend().getVak().getVakNaam()}"></td>
            <td th:text="${week.getDinsdag().getOchtend().getVak().getVakNaam()}"></td>
            <td th:text="${week.getWoensdag().getOchtend().getVak().getVakNaam()}"></td>
            <td th:text="${week.getDonderdag().getOchtend().getVak().getVakNaam()}"></td>
            <td th:text="${week.getVrijdag().getOchtend().getVak().getVakNaam()}"></td>
        </tr>
        <tr>
            <td th:text="${week.getMaandag().getOchtend().getDocent().getFullName()}"></td>
            <td th:text="${week.getDinsdag().getOchtend().getDocent().getFullName()}"></td>
            <td th:text="${week.getWoensdag().getOchtend().getDocent().getFullName()}"></td>
            <td th:text="${week.getDonderdag().getOchtend().getDocent().getFullName()}"></td>
            <td th:text="${week.getVrijdag().getOchtend().getDocent().getFullName()}"></td>
        </tr>
        <tr>
            <td rowspan="2" th:value="middag">13:00 - 17:00</td>
            <td th:text="${week.getMaandag().getMiddag().getVak().getVakNaam()}"></td>
            <td th:text="${week.getDinsdag().getMiddag().getVak().getVakNaam()}"></td>
            <td th:text="${week.getWoensdag().getMiddag().getVak().getVakNaam()}"></td>
            <td th:text="${week.getDonderdag().getMiddag().getVak().getVakNaam()}"></td>
            <td th:text="${week.getVrijdag().getMiddag().getVak().getVakNaam()}"></td>
        </tr>
        <tr>
            <td th:text="${week.getMaandag().getMiddag().getDocent().getFullName()}"></td>
            <td th:text="${week.getDinsdag().getMiddag().getDocent().getFullName()}"></td>
            <td th:text="${week.getWoensdag().getMiddag().getDocent().getFullName()}"></td>
            <td th:text="${week.getDonderdag().getMiddag().getDocent().getFullName()}"></td>
            <td th:text="${week.getVrijdag().getMiddag().getDocent().getFullName()}"></td>
        </tr>
        <tr>
            <td rowspan="2" th:value="avond">17:00 - 21:00</td>
            <td th:text="${week.getMaandag().getAvond().getVak().getVakNaam()}"></td>
            <td th:text="${week.getDinsdag().getAvond().getVak().getVakNaam()}"></td>
            <td th:text="${week.getWoensdag().getAvond().getVak().getVakNaam()}"></td>
            <td th:text="${week.getDonderdag().getAvond().getVak().getVakNaam()}"></td>
            <td th:text="${week.getVrijdag().getAvond().getVak().getVakNaam()}"></td>
        </tr>
        <tr>
            <td th:text="${week.getMaandag().getAvond().getDocent().getFullName()}"></td>
            <td th:text="${week.getDinsdag().getAvond().getDocent().getFullName()}"></td>
            <td th:text="${week.getWoensdag().getAvond().getDocent().getFullName()}"></td>
            <td th:text="${week.getDonderdag().getAvond().getDocent().getFullName()}"></td>
            <td th:text="${week.getVrijdag().getAvond().getDocent().getFullName()}"></td>
        </tr>
        </tbody>
    </table>
    <br>
</th:block>

<script>
    function logWeekId() {
        var weekId = document.getElementById("week").value;
        console.log("weekId: " + weekId);
    }

    function loadData() {
        var request = new XMLHttpRequest();
        var selectedWeek = document.getElementById("week").value;
        var url = '/ajax/coordinator/rooster-maken-cohort-gekozen-karin/' + selectedWeek;
        console.log(url);
        request.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                var data = JSON.parse(this.responseText);
                document.getElementById("vakMaO").innerHTML = data[0];
                document.getElementById("vakMaM").innerHTML = data[1];
                document.getElementById("vakMaA").innerHTML = data[2];
                document.getElementById("vakDiO").innerHTML = data[3];
                document.getElementById("vakDiM").innerHTML = data[4];
                document.getElementById("vakDiA").innerHTML = data[5];
                document.getElementById("vakWoO").innerHTML = data[6];
                document.getElementById("vakWoM").innerHTML = data[7];
                document.getElementById("vakWoA").innerHTML = data[8];
                document.getElementById("vakDoO").innerHTML = data[9];
                document.getElementById("vakDoM").innerHTML = data[10];
                document.getElementById("vakDoA").innerHTML = data[11];
                document.getElementById("vakVrO").innerHTML = data[12];
                document.getElementById("vakVrM").innerHTML = data[13];
                document.getElementById("vakVrA").innerHTML = data[14];


            }
        };
        request.open("GET", url, true);
        request.send();
    }
</script>

</body>
</html>
