<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>SQRT4  |  Koppel Docenten</title>
    <link rel="stylesheet" type="text/css" href="/stylesheet.css">
    <link rel="stylesheet" type="text/css" href="/header-stylesheet.css">
</head>
<body>
<header>
    <div th:insert="~{header::copy}">Header</div>
</header>

<h1>Koppel Docenten</h1>

<h3>Klik op de week waarvoor je een rooster wilt maken om het rooster zonder docenten in te laden. <br>Vervolgens kun je
    docenten koppelen aan de vakken die in het rooster staan.</h3>

<th:block th:each="week: ${weken}">
    <button class="collapsible">Week: <span th:text="${week.getWeekNummer()}"></span> | Data: <span
            th:text="${week.getMaandag().getDatum() + ' t/m ' + week.getVrijdag().getDatum()}"></span></button>
    <div class="content">
        <form action="#" th:action="@{/roosteraar/docent-koppelen-gekozen-cohort}" th:object="${cohort}" method="POST">
            <h6></h6>
            <table id="TableFormatter">
                <input name="weekId" type="text" th:value="${week.getId()}">
                <thead>
                <tr colspan="2">
                    <th>Weeknummer</th>
                    <th>Maandag</th>
                    <th>Dinsdag</th>
                    <th>Woensdag</th>
                    <th>Donderdag</th>
                    <th>Vrijdag</th>
                </tr>
                <tr>
                    <td th:text="${week.getWeekNummer()}"></td>
                    <td th:text="${week.getMaandag().getDatum()}"></td>
                    <td th:text="${week.getDinsdag().getDatum()}"></td>
                    <td th:text="${week.getWoensdag().getDatum()}"></td>
                    <td th:text="${week.getDonderdag().getDatum()}"></td>
                    <td th:text="${week.getVrijdag().getDatum()}"></td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td rowspan="2" th:value="ochtend">9:00 - 13:00</td>
                    <td th:text="${week.getMaandag().getOchtend().getVak().getVakNaam()}"></td>
                    <td th:text="${week.getDinsdag().getOchtend().getVak().getVakNaam()}"></td>
                    <td th:text="${week.getWoensdag().getOchtend().getVak().getVakNaam()}"></td>
                    <td th:text="${week.getDonderdag().getOchtend().getVak().getVakNaam()}"></td>
                    <td th:text="${week.getVrijdag().getOchtend().getVak().getVakNaam()}"></td>
                </tr>
                <tr>
                    <td><select id="maOch" th:name="maOch">
                        <option>--Kies docent--</option>
                        <option th:each="docent: ${docentList}" th:value="${docent.getId()}"
                                th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                    </select></td>
                    <td><select id="diOch" th:name="diOch">
                        <option>--Kies docent--</option>
                        <option th:each="docent: ${docentList}" th:value="${docent.getId()}"
                                th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                    </select></td>
                    <td><select id="woOch" th:name="woOch">
                        <option>--Kies docent--</option>
                        <option th:each="docent: ${docentList}" th:value="${docent.getId()}"
                                th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                    </select></td>
                    <td><select id="doOch" th:name="doOch">
                        <option>--Kies docent--</option>
                        <option th:each="docent: ${docentList}" th:value="${docent.getId()}"
                                th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                    </select></td>
                    <td><select id="vrOch" th:name="vrOch">
                        <option>--Kies docent--</option>
                        <option th:each="docent: ${docentList}" th:value="${docent.getId()}"
                                th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                    </select></td>
                </tr>
                <tr>
                    <td rowspan="2" th:value="middag">13:00 - 17:00</td>
                    <td th:text="${week.getMaandag().getMiddag().getVak().getVakNaam()}"></td>
                    <td th:text="${week.getDinsdag().getMiddag().getVak().getVakNaam()}"></td>
                    <td th:text="${week.getWoensdag().getMiddag().getVak().getVakNaam()}"></td>
                    <td th:text="${week.getDonderdag().getMiddag().getVak().getVakNaam()}"></td>
                    <td th:text="${week.getVrijdag().getMiddag().getVak().getVakNaam()}"></td>
                </tr>
                <tr>
                    <td><select id="maMid" th:name="maMid">
                        <option>--Kies docent--</option>
                        <option th:each="docent: ${docentList}" th:value="${docent.getId()}"
                                th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                    </select></td>
                    <td><select id="diMid" th:name="diMid">
                        <option>--Kies docent--</option>
                        <option th:each="docent: ${docentList}" th:value="${docent.getId()}"
                                th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                    </select></td>
                    <td><select id="woMid" th:name="woMid">
                        <option>--Kies docent--</option>
                        <option th:each="docent: ${docentList}" th:value="${docent.getId()}"
                                th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                    </select></td>
                    <td><select id="doMid" th:name="doMid">
                        <option>--Kies docent--</option>
                        <option th:each="docent: ${docentList}" th:value="${docent.getId()}"
                                th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                    </select></td>
                    <td><select id="vrMid" th:name="vrMid">
                        <option>--Kies docent--</option>
                        <option th:each="docent: ${docentList}" th:value="${docent.getId()}"
                                th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                    </select></td>
                </tr>
                <tr>
                    <td rowspan="2" th:value="avond">17:00 - 21:00</td>
                    <td th:text="${week.getMaandag().getAvond().getVak().getVakNaam()}"></td>
                    <td th:text="${week.getMaandag().getAvond().getVak().getVakNaam()}"></td>
                    <td th:text="${week.getMaandag().getAvond().getVak().getVakNaam()}"></td>
                    <td th:text="${week.getMaandag().getAvond().getVak().getVakNaam()}"></td>
                    <td th:text="${week.getMaandag().getAvond().getVak().getVakNaam()}"></td>
                </tr>
                <tr>
                    <td><select id="maAvo" th:name="maAvo">
                        <option>--Kies docent--</option>
                        <option th:each="docent: ${docentList}" th:value="${docent.getId()}"
                                th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                    </select></td>
                    <td><select id="diAvo" th:name="diAvo">
                        <option>--Kies docent--</option>
                        <option th:each="docent: ${docentList}" th:value="${docent.getId()}"
                                th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                    </select></td>
                    <td><select id="woAvo" th:name="woAvo">
                        <option>--Kies docent--</option>
                        <option th:each="docent: ${docentList}" th:value="${docent.getId()}"
                                th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                    </select></td>
                    <td><select id="doAvo" th:name="doAvo">
                        <option>--Kies docent--</option>
                        <option th:each="docent: ${docentList}" th:value="${docent.getId()}"
                                th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                    </select></td>
                    <td><select id="vrAvo" th:name="vrAvo">
                        <option>--Kies docent--</option>
                        <option th:each="docent: ${docentList}" th:value="${docent.getId()}"
                                th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                    </select></td>
                </tr>
                </tbody>
            </table>
            <br>
        <input id="knopOpslaan" type="submit" value="Opslaan"/>
            <br>
            <br>
</form>
    </div>
</th:block>

<br>
<!--<button id="knopVorigeWeek" onclick="displayVorigeWeekButton();displayVolgendeWeekButton();subtractIndex();addWeekNumber();">Vorige Week</button>      <button id="knopVolgendeWeek" onclick="displayVolgendeWeekButton();displayVorigeWeekButton();addIndex();addWeekNumber();">Volgende Week</button>-->

<script>
    var coll = document.getElementsByClassName("collapsible");
    var i;

    for (i = 0; i < coll.length; i++) {
        coll[i].addEventListener("click", function () {
            this.classList.toggle("active");
            var content = this.nextElementSibling;
            if (content.style.maxHeight) {
                content.style.maxHeight = null;
            } else {
                content.style.maxHeight = content.scrollHeight + "px";
            }
        });
    }

</script>

</body>

<script>
    // function getWeek() {
    //     var weekId = document.getElementById("weekId").value;
    //     var url = "/ajax/roosteraar/docent-koppelen-gekozen-cohort/" + weekId;
    //     console.log("dit is de url: " + url);
    //
    //     var xhttp;
    //     if (index == "") {
    //         document.getElementById("index").innerHTML = "";
    //         return;
    //     }
    //     xhttp = new XMLHttpRequest();
    //     xhttp.onreadystatechange = function() {
    //         if (this.readyState == 4 && this.status == 200) {
    //             document.getElementById("voorkeurGebruiker").value = this.responseText;
    //         }
    //     };
    //     xhttp.open("POST", url, true);
    //     xhttp.send();
    // }
    // getWeek();

    var index;
    index = document.getElementById("index").value;
    console.log("indexwaarde: " + index);

    var huidigeWeek;
    huidigeWeek = document.getElementById("huidigeWeek").value;
    console.log("huidige week: " + huidigeWeek);

    var startWeek;
    startWeek = document.getElementById("startWeek").value;
    console.log("startweek = " + startWeek);

    var eindWeek;
    eindWeek = document.getElementById("eindWeek").value;
    console.log("eindweek = " + eindWeek);

    function addIndex() {
        if (document.getElementById("knopVolgendeWeek").onclick) {
            index++;
            huidigeWeek++;
            console.log("i: " + index);
            console.log("hw: " + huidigeWeek);
        }
    }

    function subtractIndex() {
        if (document.getElementById("knopVorigeWeek").onclick) {
            index--;
            huidigeWeek--;
            console.log("i: " + index);
            console.log("hw: " + huidigeWeek);
        }
    }

    function addWeekNumber() {
        var x = document.getElementById("weekNummerHeader");
        x.innerText = huidigeWeek;
    }

    function displayVorigeWeekButton() {
        if (index > -1) {
            document.getElementById("knopVorigeWeek").style.display = "inline";
        } else {
            document.getElementById("knopVorigeWeek").style.display = "none";
        }
    }

    function displayVolgendeWeekButton() {
        if (huidigeWeek == eindWeek - 1) {
            document.getElementById("knopVolgendeWeek").style.display = "none";
        } else {
            document.getElementById("knopVolgendeWeek").style.display = "inline";
        }
    }

</script>
</html>


