<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>SQRT4  |  Koppel Docenten</title>
    <link rel="stylesheet" type="text/css" href="/stylesheet.css">
    <link rel="stylesheet" type="text/css" href="/header-stylesheet.css">
</head>
<body>
<header>
    <div th:insert="~{header::copy}">Header</div>
</header>

<style>
    .TableFormatter td {
        border: 1px solid white;
    }
</style>

<h1>Koppel Docenten voor <span th:text="${cohort.getCohortNaam()}"></span></h1>

<form id="gevuldeWeek1" action="#" th:action="@{/roosteraar/docenten-koppelen-gekozen-cohort}" th:object="${cohort}" method="POST">
    <table class="TableFormatter">
        <thead>
        <th><select id="week" name="week" onchange="loadData()">
            <option value="geenKeuze">--Kies een week--</option>
            <option th:each="week : ${weken}"  th:value="${week.getId()}" th:text="${week.getWeekNummerTekst()}">Kies week</option>
        </select></th>
        <th>Maandag</th>
        <th>Dinsdag</th>
        <th>Woensdag</th>
        <th>Donderdag</th>
        <th>Vrijdag</th>
        </thead>
        <tbody>
        <tr>
            <td rowspan="2">Ochtend<br>09:00-13:00</td>
            <td id="maOcht" name="maOcht">Vak</td>
            <td id="diOcht" name="diOcht">Vak</td>
            <td id="woOcht" name="woOcht">Vak</td>
            <td id="doOcht" name="doOcht">Vak</td>
            <td id="vrOcht" name="vrOcht">Vak</td>
        </tr>
        <tr>
            <td><select><option th:each="docent : ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFullName()}">Kies Docent</option></select></td>
            <td><select><option th:each="docent : ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFullName()}">Kies Docent</option></select></td>
            <td><select><option th:each="docent : ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFullName()}">Kies Docent</option></select></td>
            <td><select><option th:each="docent : ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFullName()}">Kies Docent</option></select></td>
            <td><select><option th:each="docent : ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFullName()}">Kies Docent</option></select></td>
        </tr>
        <tr>
            <td rowspan="2">Middag<br>13:00-17:00</td>
            <td id="maMid" name="maMid">Vak</td>
            <td id="diMid" name="diMid">Vak</td>
            <td id="woMid" name="woMid">Vak</td>
            <td id="doMid" name="doMid">Vak</td>
            <td id="vrMid" name="vrMid">Vak</td>
        </tr>
        <tr>
            <td><select><option th:each="docent : ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFullName()}">Kies Docent</option></select></td>
            <td><select><option th:each="docent : ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFullName()}">Kies Docent</option></select></td>
            <td><select><option th:each="docent : ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFullName()}">Kies Docent</option></select></td>
            <td><select><option th:each="docent : ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFullName()}">Kies Docent</option></select></td>
            <td><select><option th:each="docent : ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFullName()}">Kies Docent</option></select></td>
        </tr>
        <tr>
            <td rowspan="2">Avond<br>17:00-21:00</td>
            <td id="maAvo" name="maAvo">Vak</td>
            <td id="diAvo" name="diAvo">Vak</td>
            <td id="woAvo" name="woAvo">Vak</td>
            <td id="doAvo" name="doAvo">Vak</td>
            <td id="vrAvo" name="vrAvo">Vak</td>
        </tr>
        <tr>
            <td><select><option th:each="docent : ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFullName()}">Kies Docent</option></select></td>
            <td><select><option th:each="docent : ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFullName()}">Kies Docent</option></select></td>
            <td><select><option th:each="docent : ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFullName()}">Kies Docent</option></select></td>
            <td><select><option th:each="docent : ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFullName()}">Kies Docent</option></select></td>
            <td><select><option th:each="docent : ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFullName()}">Kies Docent</option></select></td>
        </tr>
        </tbody>
    </table>
    <br>
    <button id="submitButton" type="submit">Sla week op</span></button>

</form>
<h2 id="gevuldeWeek3">Hieronder een overzicht van alle weken van dit cohort</h2>
<th:block th:each="week: ${weken}">
    <table class="TableFormatter">
        <thead>
        <tr colspan="2">
            <th>Weeknummer</th>
            <th>Maandag</th>
            <th>Dinsdag</th>
            <th>Woensdag</th>
            <th>Donderdag</th>
            <th>Vrijdag</th>
        </tr>
        <tr>
            <td th:text="${week.getWeekNummer()}"></td>
            <td th:text="${week.getMaandag().getDatum()}"></td>
            <td th:text="${week.getDinsdag().getDatum()}"></td>
            <td th:text="${week.getWoensdag().getDatum()}"></td>
            <td th:text="${week.getDonderdag().getDatum()}"></td>
            <td th:text="${week.getVrijdag().getDatum()}"></td>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td rowspan="2" th:value="ochtend">9:00 - 13:00</td>
            <td th:text="${week.getMaandag().getOchtend().getVak().getVakNaam()}"></td>
            <td th:text="${week.getDinsdag().getOchtend().getVak().getVakNaam()}"></td>
            <td th:text="${week.getWoensdag().getOchtend().getVak().getVakNaam()}"></td>
            <td th:text="${week.getDonderdag().getOchtend().getVak().getVakNaam()}"></td>
            <td th:text="${week.getVrijdag().getOchtend().getVak().getVakNaam()}"></td>
        </tr>
        <tr>
            <td th:text="${week.getMaandag().getOchtend().getDocent().getFullName()}"></td>
            <td th:text="${week.getDinsdag().getOchtend().getDocent().getFullName()}"></td>
            <td th:text="${week.getWoensdag().getOchtend().getDocent().getFullName()}"></td>
            <td th:text="${week.getDonderdag().getOchtend().getDocent().getFullName()}"></td>
            <td th:text="${week.getVrijdag().getOchtend().getDocent().getFullName()}"></td>
        </tr>
        <tr>
            <td rowspan="2" th:value="middag">13:00 - 17:00</td>
            <td th:text="${week.getMaandag().getMiddag().getVak().getVakNaam()}"></td>
            <td th:text="${week.getDinsdag().getMiddag().getVak().getVakNaam()}"></td>
            <td th:text="${week.getWoensdag().getMiddag().getVak().getVakNaam()}"></td>
            <td th:text="${week.getDonderdag().getMiddag().getVak().getVakNaam()}"></td>
            <td th:text="${week.getVrijdag().getMiddag().getVak().getVakNaam()}"></td>
        </tr>
        <tr>
            <td th:text="${week.getMaandag().getMiddag().getDocent().getFullName()}"></td>
            <td th:text="${week.getDinsdag().getMiddag().getDocent().getFullName()}"></td>
            <td th:text="${week.getWoensdag().getMiddag().getDocent().getFullName()}"></td>
            <td th:text="${week.getDonderdag().getMiddag().getDocent().getFullName()}"></td>
            <td th:text="${week.getVrijdag().getMiddag().getDocent().getFullName()}"></td>
        </tr>
        <tr>
            <td rowspan="2" th:value="avond">17:00 - 21:00</td>
            <td th:text="${week.getMaandag().getAvond().getVak().getVakNaam()}"></td>
            <td th:text="${week.getMaandag().getAvond().getVak().getVakNaam()}"></td>
            <td th:text="${week.getMaandag().getAvond().getVak().getVakNaam()}"></td>
            <td th:text="${week.getMaandag().getAvond().getVak().getVakNaam()}"></td>
            <td th:text="${week.getMaandag().getAvond().getVak().getVakNaam()}"></td>
        </tr>
        <tr>
            <td th:text="${week.getMaandag().getAvond().getDocent().getFullName()}"></td>
            <td th:text="${week.getDinsdag().getAvond().getDocent().getFullName()}"></td>
            <td th:text="${week.getWoensdag().getAvond().getDocent().getFullName()}"></td>
            <td th:text="${week.getDonderdag().getAvond().getDocent().getFullName()}"></td>
            <td th:text="${week.getVrijdag().getAvond().getDocent().getFullName()}"></td>
        </tr>
        </tbody>
    </table>
    <br>
</th:block>

<script>
    // var coll = document.getElementsByClassName("collapsible");
    // var i;
    //
    // for (i = 0; i < coll.length; i++) {
    //     coll[i].addEventListener("click", function() {
    //         this.classList.toggle("active");
    //         var content = this.nextElementSibling;
    //         if (content.style.maxHeight){
    //             content.style.maxHeight = null;
    //         } else {
    //             content.style.maxHeight = content.scrollHeight + "px";
    //         }
    //         loadData(weeknr);
    //     });
    // }
</script>

</body>

<script>
    function loadData() {
        var request = new XMLHttpRequest();
        var weeknr = document.getElementById("week").value;
        var url = '/ajax/roosteraar/docenten-koppelen-gekozen-cohort/' + weeknr;
        console.log(url);
        request.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                var data = JSON.parse(this.responseText);
                document.getElementById("maOcht").value = data[0];
                document.getElementById("maMid").value = data[1];
                document.getElementById("maAvo").value = data[2];
                document.getElementById("diOcht").value = data[3];
                document.getElementById("diMid").value = data[4];
                document.getElementById("diAvo").value = data[5];
                document.getElementById("woOcht").value = data[6];
                document.getElementById("woMid").value = data[7];
                document.getElementById("woAvo").value = data[8];
                document.getElementById("doOcht").value = data[9];
                document.getElementById("doMid").value = data[10];
                document.getElementById("doAvo").value = data[11];
                document.getElementById("vrOcht").value = data[12];
                document.getElementById("vrMid").value = data[13];
                document.getElementById("vrAvo").value = data[14];
            }
        };
        request.open("GET", url, true);
        request.send();
    }
</script>
</html>


