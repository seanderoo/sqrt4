<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>SQRT4  |  Koppel Docenten</title>
    <link rel="stylesheet" type="text/css" href="/stylesheet.css">
    <link rel="stylesheet" type="text/css" href="/header-stylesheet.css">
</head>
<body>
<header>
    <div th:insert="~{header::copy}">Header</div>
</header>

<h1>Koppel Docenten voor <span th:text="${cohort.getCohortNaam()}"></span></h1>


<h3>Klik op de week waarvoor je een rooster wilt maken om het rooster zonder docenten in te laden. <br>Vervolgens kun je docenten koppelen aan de vakken die in het rooster staan.</h3>

<th:block th:each="week: ${weken}">
    <button class="collapsible">Week: <span th:text="${week.getWeekNummer()}"></span>   |   Data: <span th:text="${week.getMaandag().getDatum() + ' t/m ' + week.getVrijdag().getDatum()}"></span></button>
    <div class="content">
<form action="#" th:action="@{/roosteraar/docenten-koppelen-gekozen-cohort}" th:object="${cohort}" method="POST">
        <h6></h6>
        <table class="TableFormatter">
            <input name="weekId" type="hidden" th:value="${week.getId()}">
            <input name="cohortNaam" type="hidden" th:value="${cohort.getCohortNaam()}">
            <thead>
            <tr colspan="2">
                <th>Weeknummer</th>
                <th>Maandag</th>
                <th>Dinsdag</th>
                <th>Woensdag</th>
                <th>Donderdag</th>
                <th>Vrijdag</th>
            </tr>
            <tr>
                <td th:text="${week.getWeekNummer()}"></td>
                <td th:text="${week.getMaandag().getDatum()}"></td>
                <td th:text="${week.getDinsdag().getDatum()}"></td>
                <td th:text="${week.getWoensdag().getDatum()}"></td>
                <td th:text="${week.getDonderdag().getDatum()}"></td>
                <td th:text="${week.getVrijdag().getDatum()}"></td>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td rowspan="2" th:value="ochtend">9:00 - 13:00</td>
                <td th:text="${week.getMaandag().getOchtend().getVak().getVakNaam()}"></td>
                <td th:text="${week.getDinsdag().getOchtend().getVak().getVakNaam()}"></td>
                <td th:text="${week.getWoensdag().getOchtend().getVak().getVakNaam()}"></td>
                <td th:text="${week.getDonderdag().getOchtend().getVak().getVakNaam()}"></td>
                <td th:text="${week.getVrijdag().getOchtend().getVak().getVakNaam()}"></td>
            </tr>
            <tr>
                <td><select id="maOcht" th:name="maOcht">
                    <option th:each="docent: ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                </select></td>
                <td><select id="diOcht" th:name="diOcht">
                    <option th:each="docent: ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                </select></td>
                <td><select id="woOcht" th:name="woOcht">
                    <option th:each="docent: ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                </select></td>
                <td><select id="doOcht" th:name="doOcht">
                    <option th:each="docent: ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                </select></td>
                <td><select id="vrOcht" th:name="vrOcht">
                    <option th:each="docent: ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                </select></td>
            </tr>
            <tr>
                <td rowspan="2" th:value="middag">13:00 - 17:00</td>
                <td th:text="${week.getMaandag().getMiddag().getVak().getVakNaam()}"></td>
                <td th:text="${week.getDinsdag().getMiddag().getVak().getVakNaam()}"></td>
                <td th:text="${week.getWoensdag().getMiddag().getVak().getVakNaam()}"></td>
                <td th:text="${week.getDonderdag().getMiddag().getVak().getVakNaam()}"></td>
                <td th:text="${week.getVrijdag().getMiddag().getVak().getVakNaam()}"></td>
            </tr>
            <tr>
                <td><select id="maMid" th:name="maMid">
                    <option th:each="docent: ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                </select></td>
                <td><select id="diMid" th:name="diMid">
                    <option th:each="docent: ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                </select></td>
                <td><select id="woMid" th:name="woMid">
                    <option th:each="docent: ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                </select></td>
                <td><select id="doMid" th:name="doMid">
                    <option th:each="docent: ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                </select></td>
                <td><select id="vrMid" th:name="vrMid">
                    <option th:each="docent: ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                </select></td>
            </tr>
            <tr>
                <td rowspan="2" th:value="avond">17:00 - 21:00</td>
                <td th:text="${week.getMaandag().getAvond().getVak().getVakNaam()}"></td>
                <td th:text="${week.getMaandag().getAvond().getVak().getVakNaam()}"></td>
                <td th:text="${week.getMaandag().getAvond().getVak().getVakNaam()}"></td>
                <td th:text="${week.getMaandag().getAvond().getVak().getVakNaam()}"></td>
                <td th:text="${week.getMaandag().getAvond().getVak().getVakNaam()}"></td>
            </tr>
            <tr>
                <td><select id="maAvo" th:name="maAvo">
                    <option th:each="docent: ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                </select></td>
                <td><select id="diAvo" th:name="diAvo">
                    <option th:each="docent: ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                </select></td>
                <td><select id="woAvo" th:name="woAvo">
                    <option th:each="docent: ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                </select></td>
                <td><select id="doAvo" th:name="doAvo">
                    <option th:each="docent: ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                </select></td>
                <td><select id="vrAvo" th:name="vrAvo">
                    <option th:each="docent: ${docentList}" th:value="${docent.getId()}" th:text="${docent.getFirstName() + ' ' + docent.getLastName()}">
                </select></td>
            </tr>
            </tbody>
        </table>
        <br>
        <input id="knopOpslaan" type="submit" value="Opslaan"/>
        <br>
        <br>
</form>
    </div>
</th:block>

<br>
<!--<button id="knopVorigeWeek" onclick="displayVorigeWeekButton();displayVolgendeWeekButton();subtractIndex();addWeekNumber();">Vorige Week</button>      <button id="knopVolgendeWeek" onclick="displayVolgendeWeekButton();displayVorigeWeekButton();addIndex();addWeekNumber();">Volgende Week</button>-->

<script>
    var coll = document.getElementsByClassName("collapsible");
    // var selectedWeek = document.getElementById("weekId").value;
    var i;

    for (i = 0; i < coll.length; i++) {
        coll[i].addEventListener("click", function() {
            this.classList.toggle("active");
            var content = this.nextElementSibling;
            if (content.style.maxHeight){
                content.style.maxHeight = null;
            } else {
                content.style.maxHeight = content.scrollHeight + "px";
            }
        });
    }
</script>

</body>

<script>
    // function loadData() {
    //     var request = new XMLHttpRequest();
    //     var selectedWeek = document.getElementById("weekId").value;
    //     var url = '/ajax/roosteraar/docenten-koppelen-gekozen-cohort/' + selectedWeek;
    //     console.log("dit is de url " + url);
    //     request.onreadystatechange = function() {
    //         if (this.readyState == 4 && this.status == 200) {
    //             var data = JSON.parse(this.responseText);
    //             document.getElementById("maOcht").value = data[0];
    //             document.getElementById("maMid").value = data[1];
    //             document.getElementById("maAvo").value = data[2];
    //             document.getElementById("diOcht").value = data[3];
    //             document.getElementById("diMid").value = data[4];
    //             document.getElementById("diAvo").value = data[5];
    //             document.getElementById("woOcht").value = data[6];
    //             document.getElementById("woMid").value = data[7];
    //             document.getElementById("woAvo").value = data[8];
    //             document.getElementById("doOcht").value = data[9];
    //             document.getElementById("doMid").value = data[10];
    //             document.getElementById("doAvo").value = data[11];
    //             document.getElementById("vrOcht").value = data[12];
    //             document.getElementById("vrMid").value = data[13];
    //             document.getElementById("vrAvo").value = data[14];
    //         }
    //     };
    //     request.open("GET", url, true);
    //     request.send();
    // }
</script>
</html>


